<div id="get-in-touch" class="bg-[#1e293b] py-12 glass" style="
--glass-blur: 0px;
--glass-opacity: 0.5;
--glass-border-opacity: 0.2;
--glass-reflex-degree: 300deg; /* Direction pointing to the right side */
--glass-reflex-opacity: .1;"
>
    <div class="max-w-5xl mx-auto px-4">
        <h2 class="text-3xl font-bold text-white uppercase text-center mb-16 font-poppins">
            <!-- Toast Container -->
            <div class="toast toast-top toast-end fixed z-50">
                @if (toastType === 'success') {
                <div class="alert alert-success max-w-sm p-4 rounded-lg shadow-lg">
                    <span class="text-white text-lg text-center">{{ toastMessage }}</span>
                </div>
                }
                @if (toastType === 'error') {
                <div class="alert alert-error max-w-sm p-4 rounded-lg shadow-lg">
                    <span class="text-white text-sm text-center">{{ toastMessage }}</span>
                </div>
                }
            </div>
            <span
                class="relative inline-block after:content-[''] after:absolute after:bottom-0 after:left-1/2 after:-translate-x-1/2 after:w-full after:h-1 after:bg-primary">
                Get in Touch
            </span>
            <span class="text-primary">!</span>
        </h2>
        <div class="relative  rounded-lg shadow-2xl max-w-full mx-auto p-8">
            <!-- Shadow Effect -->
            <div
                class="absolute top-0 left-5 right-5 bottom-0 rounded-lg shadow-2xl blur-lg opacity-60 pointer-events-none">
            </div>

            <div class="flex items-center justify-between bg-gray-600 rounded-t-lg px-4 py-3">
                <div class="flex space-x-2">
                    <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                    <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                </div>
                <div class="flex space-x-1">
                    <div class="w-1.5 h-1.5 bg-gray-400 rounded-full"></div>
                    <div class="w-1.5 h-1.5 bg-gray-400 rounded-full"></div>
                    <div class="w-1.5 h-1.5 bg-gray-400 rounded-full"></div>
                </div>
            </div>

            <div class="flex flex-col justify-between h-full">
                <div class="flex-1">

                    <p class="text-gray-400 my-6 text-center">
                        If you have any questions or want to work together, feel free to
                        contact me.
                    </p>


                    <!-- Right Section -->
                    <div class="flex-1">
                        <!-- Form -->
                        <form (ngSubmit)="onFormSubmit()" #contactForm="ngForm" novalidate>
                            <div class="space-y-6">

                                <!-- Name Field -->
                                <div>
                                    <label for="name" class="block text-sm font-medium mb-1 text-gray-300">
                                        Name
                                    </label>
                                    <input type="text" id="name" name="name" [(ngModel)]="model.name" #name="ngModel"
                                        placeholder="Enter your name"
                                        class="w-full px-3 py-2 border border-gray-600 rounded-md bg-transparent text-gray-300 focus:outline-none focus:border-primary"
                                        required />
                                    <!-- Inline Error Message -->
                                    @if (name.invalid && name.touched) {
                                    <div class="text-red-500 text-xs mt-1">
                                        Name is required.
                                    </div>
                                    }
                                </div>

                                <!-- Email Field -->
                                <div>
                                    <label for="email" class="block text-sm font-medium mb-1 text-gray-300">
                                        Email
                                    </label>
                                    <input type="email" id="email" name="email" [(ngModel)]="model.email"
                                        #email="ngModel" placeholder="Enter your E-Mail"
                                        class="w-full px-3 py-2 border border-gray-600 rounded-md bg-transparent text-gray-300 focus:outline-none focus:border-primary"
                                        required email />
                                    <!-- Inline Error Message -->
                                    @if (email.invalid && email.touched) {
                                    <div class="text-red-500 text-xs mt-1">
                                        @if (email.errors?.['required']) {
                                        <span>Email is required.</span>
                                        }
                                        @if (email.errors?.['email']) {
                                        <span>Invalid E-Mail format.</span>
                                        }
                                    </div>
                                    }
                                </div>

                                <!-- Message Field -->
                                <div>
                                    <label for="message" class="block text-sm font-medium mb-1 text-gray-300">
                                        Message
                                    </label>
                                    <textarea id="message" name="message" [(ngModel)]="model.message" #message="ngModel"
                                        placeholder="Write your message here" rows="4"
                                        class="w-full px-3 py-2 border border-gray-600 rounded-md bg-transparent text-gray-300 focus:outline-none focus:border-primary"
                                        required></textarea>
                                    <!-- Inline Error Message -->
                                    @if (message.invalid && message.touched) {
                                    <div class="text-red-500 text-xs mt-1">
                                        Message is required.
                                    </div>
                                    }
                                </div>

                                <!-- Buttons -->
                                <div class="flex justify-end space-x-4">
                                    <button type="button" (click)="onCancel()"
                                        class="bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 focus:outline-none">
                                        Cancel
                                    </button>
                                    <button
                                    type="submit"
                                    class="px-4 py-2 rounded-md text-white 
                                      bg-primary hover:bg-secondary
                                      disabled:bg-gray-500 disabled:cursor-not-allowed disabled:hover:bg-gray-500"
                                    [disabled]="contactForm.invalid || isLoading">
                                  >
                                  @if (isLoading) {
                                    <span class="loading loading-dots loading-lg mr-2"></span>
                                  } @else if (!isLoading) {
                                    <span>Send</span>
                                  }
                                
                                  </button>
                                  
                                </div>

                            </div>
                        </form>

                    </div>
                    <p class="text-sm text-gray-300">
                        OR <br />
                        Contact Me with:
                        <a href="https://www.linkedin.com/in/walid-boulhazayez" target="_blank"
                            class="text-primary font-semibold hover:underline">LinkedIn</a>
                    </p>
                </div>
            </div>
        </div>
    </div>